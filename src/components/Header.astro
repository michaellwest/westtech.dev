---
import ThemeToggle from "./ThemeToggle.astro";

const navLinks = [
  { href: "/", label: "Posts" },
  { href: "/tags", label: "Tags" },
  { href: "/search", label: "Search" },
];

const currentPath = Astro.url.pathname;
---

<header class="border-b border-zinc-200 dark:border-zinc-800">
  <div class="max-w-2xl mx-auto px-4 sm:px-6 flex items-center justify-between h-14">
    <a
      href="/"
      class="flex flex-col leading-tight group"
      aria-label="westtech.dev home"
    >
      <span class="font-mono font-bold text-base text-zinc-900 dark:text-zinc-50 group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors">
        westtech.dev
      </span>
      <span class="text-xs text-zinc-500 dark:text-zinc-400 italic">
        something to know
      </span>
    </a>

    <nav class="flex items-center gap-1">
      {
        navLinks.map(({ href, label }) => {
          const isActive =
            href === "/"
              ? currentPath === "/"
              : currentPath.startsWith(href);
          return (
            <a
              href={href}
              class:list={[
                "px-3 py-1.5 rounded-md text-sm transition-colors",
                isActive
                  ? "text-blue-600 dark:text-blue-400 font-medium"
                  : "text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800",
              ]}
            >
              {label}
            </a>
          );
        })
      }
      <ThemeToggle />
    </nav>
  </div>
</header>
