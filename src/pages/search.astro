---
import SiteLayout from "../layouts/SiteLayout.astro";
---

<SiteLayout title="Search" description="Search all posts on westtech.dev">
  <h1 class="text-2xl font-bold mb-6 text-zinc-900 dark:text-zinc-50">Search</h1>

  <!-- Pagefind UI -->
  <div id="search"></div>
</SiteLayout>

<!-- Pagefind UI assets (generated at build time) -->
<link href="/pagefind/pagefind-ui.css" rel="stylesheet" />
<script src="/pagefind/pagefind-ui.js" is:inline></script>
<script is:inline>
  window.addEventListener("DOMContentLoaded", () => {
    new PagefindUI({
      element: "#search",
      showSubResults: true,
      resetStyles: true,
    });
  });
</script>

<style>
  /* Minimal overrides to theme Pagefind with the site palette */
  :root {
    --pagefind-ui-scale: 0.9;
    --pagefind-ui-primary: #2563eb;
    --pagefind-ui-text: #18181b;
    --pagefind-ui-background: #ffffff;
    --pagefind-ui-border: #e4e4e7;
    --pagefind-ui-tag: #f4f4f5;
    --pagefind-ui-border-width: 1px;
    --pagefind-ui-border-radius: 6px;
    --pagefind-ui-font: system-ui, sans-serif;
  }

  html.dark {
    --pagefind-ui-text: #f4f4f5;
    --pagefind-ui-background: #09090b;
    --pagefind-ui-border: #27272a;
    --pagefind-ui-tag: #27272a;
  }
</style>
